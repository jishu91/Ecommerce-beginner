<!DOCTYPE html>
<html lang="en">

<head>
    <title>My Orders</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">
<%- include('partials/navbar') %>
    <!-- Header -->
    <div class="max-w-6xl mx-auto px-6 py-6">
        <h1 class="text-3xl font-bold text-gray-800 mb-2">üì¶ My Orders</h1>

       
        <hr class="mt-4">
    </div>
    <% if (totalPages> 1) { %>
        <div class="flex justify-center items-center space-x-2 mt-8">

            <!-- Previous -->
            <% if (currentPage> 1) { %>
                <a href="/orders?page=<%= currentPage - 1 %>" class="px-4 py-2 bg-white border rounded hover:bg-gray-100">
                    ‚Üê Prev
                </a>
                <% } %>

                    <!-- Page Numbers -->
                    <% for (let i=1; i <=totalPages; i++) { %>
                        <a href="/orders?page=<%= i %>" class="px-4 py-2 rounded border
                    <%= i === currentPage
                        ? 'bg-indigo-600 text-white'
                        : 'bg-white hover:bg-gray-100' %>">
                            <%= i %>
                        </a>
                        <% } %>

                            <!-- Next -->
                            <% if (currentPage < totalPages) { %>
                                <a href="/orders?page=<%= currentPage + 1 %>"
                                    class="px-4 py-2 bg-white border rounded hover:bg-gray-100">
                                    Next ‚Üí
                                </a>
                                <% } %>

        </div>
        <% } %>

    <!-- Orders Content -->
    <div class="max-w-6xl mx-auto px-6 py-6 space-y-6">

        <% if (orders.length===0) { %>
            <div class="bg-white p-6 rounded-lg shadow text-center text-gray-600">
                üòî No orders placed yet
            </div>
            <% } %>

                <% orders.forEach(order=> { %>
                    <div class="bg-white rounded-xl shadow p-6">

                        <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-4">
                            <div>
                                    <!-- <p class="text-sm text-gray-500">
                                        Order ID:
                                        <span class="text-gray-800 font-medium">
                                            <%= order._id %>
                                        </span>
                                    </p> -->

                                <p class="text-sm text-gray-500">
                                    Date:
                                    <span class="text-gray-800 font-medium">
                                        <%= order.createdAt.toDateString() %>
                                    </span>
                                </p>
                            </div>

                            <div class="mt-2 md:mt-0">
                                <span class="px-3 py-1 rounded-full text-sm font-semibold
                            <%= order.status === 'Delivered'
                                ? 'bg-green-100 text-green-700'
                                : order.status === 'Pending'
                                ? 'bg-yellow-100 text-yellow-700'
                                : 'bg-gray-100 text-gray-700' %>">
                                    <%= order.status %>
                                </span>
                            </div>
                        </div>

                        <p class="text-lg font-bold text-gray-800 mb-3">
                            Total: ‚Çπ <%= order.totalAmount %>
                        </p>

                        <h4 class="font-semibold text-gray-700 mb-2">Items</h4>

                        <ul class="list-disc list-inside text-gray-600 space-y-1">
                            <% order.items.forEach(item=> { %>
                                <li>
                                    <%= item.name %> √ó <%= item.quantity %>
                                            (‚Çπ <%= item.price %>)
                                </li>
                                <% }) %>
                        </ul>

                    </div>
                    <% }) %>

    </div>

</body>

</html>